<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Match Game</title>
  <style>
    /* General Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      background: linear-gradient(to bottom right, #2d1b69, #1e1b4b, #0f172a);
      color: #e2e8f0;
      gap: 2rem;
    }

    /* RTL Support */
    .rtl {
      direction: rtl;
    }

    /* Game Container */
    .game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
    }

    /* Info Section */
    .info-section {
      text-align: center;
      max-width: 36rem;
    }

    .arabic-text {
      font-size: 1.5rem;
      font-weight: bold;
      color: #c7d2fe;
      line-height: 1.5;
      margin-bottom: 1rem;
    }

    .game-stats {
      color: #a5b4fc;
    }

    /* Card Grid */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      padding: 1.5rem;
      border-radius: 0.75rem;
      background-color: rgba(30, 27, 75, 0.5);
      backdrop-filter: blur(4px);
    }

    /* Card Styles */
    .card {
      position: relative;
      width: 6rem;
      height: 6rem;
      cursor: pointer;
      perspective: 1000px;
      border-radius: 0.5rem;
      border: 1px solid #4338ca;
      background-color: #1e1b4b;
      transition: border-color 0.3s, background-color 0.3s;
    }

    .card:hover {
      border-color: #6366f1;
      background-color: rgba(67, 56, 202, 0.8);
    }

    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.3s;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.5rem;
      overflow: hidden;
    }

    .card-front {
      background: linear-gradient(to bottom right, transparent, rgba(99, 102, 241, 0.05), rgba(255, 255, 255, 0.05));
    }

    .card-back {
      transform: rotateY(180deg);
    }

    .card.matched {
      border-color: #818cf8;
      background-color: rgba(67, 56, 202, 0.5);
    }

    .card.matched .card-inner {
      transform: rotateY(180deg);
    }

    .card.matched svg {
      filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
    }

    /* Button Styles */
    .btn {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      font-weight: 500;
      border-radius: 0.375rem;
      cursor: pointer;
      background-color: #1e1b4b;
      color: #a5b4fc;
      border: 1px solid #4338ca;
      transition: all 0.3s;
    }

    .btn:hover {
      background-color: #312e81;
      border-color: #6366f1;
      color: #c7d2fe;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: linear-gradient(to bottom right, #065f46, #047857);
      padding: 2rem;
      border-radius: 0.75rem;
      max-width: 28rem;
      margin: 0 1rem;
      border: 2px solid #10b981;
      transform: scale(0.8);
      opacity: 0;
      transition: transform 0.3s, opacity 0.3s;
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
      opacity: 1;
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: bold;
      color: #ecfdf5;
      margin-bottom: 1rem;
      text-align: center;
    }

    .modal-message {
      font-size: 1.25rem;
      color: #d1fae5;
      line-height: 1.5;
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .modal-button {
      background-color: #059669;
      color: white;
      border: none;
      padding: 0.5rem 1.5rem;
      border-radius: 0.375rem;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .modal-button:hover {
      background-color: #047857;
    }

    .modal-actions {
      display: flex;
      justify-content: center;
      margin-top: 1.5rem;
    }

    /* Responsive Styles */
    @media (min-width: 768px) {
      .card {
        width: 8rem;
        height: 8rem;
      }
      
      .card-grid {
        gap: 1.5rem;
      }
      
      .arabic-text {
        font-size: 1.75rem;
      }
    }

    /* Icon Colors */
    .icon-heart { color: #fb7185; }
    .icon-star { color: #fbbf24; }
    .icon-sun { color: #facc15; }
    .icon-moon { color: #c084fc; }
    .icon-cloud { color: #38bdf8; }
    .icon-flower { color: #34d399; }
  </style>
</head>
<body>
  <div class="game-container">
    <div class="info-section">
      <p class="arabic-text rtl">ÿßÿ∞ÿß ÿßÿ≥ÿ™ÿ∑ÿπÿ™ ÿ≠ŸÑŸáÿß ÿ®25 ÿ´ÿßŸÜŸäÿ© ŸÅÿ≥ÿ™ŸÑŸÖ ÿ¨ÿßÿ¶ÿ≤ÿ™ŸÉ ŸÖŸÜ ÿ±ŸÉŸÜ ŸÜÿßÿØŸä ÿßŸÑÿ£ÿπŸÖÿßŸÑ</p>
      <p class="game-stats">Matches found: <span id="matches">0</span> of 6 | Time: <span id="timer">0:00</span></p>
    </div>

    <div class="card-grid" id="card-grid">
      <!-- Cards will be generated by JavaScript -->
    </div>

    <button class="btn" id="reset-btn">Start New Game</button>
  </div>

  <!-- Victory Modal -->
  <div class="modal-overlay" id="victory-modal">
    <div class="modal-content">
      <h2 class="modal-title rtl">ŸÖÿ®ÿ±ŸàŸÉ! üéâ</h2>
      <p class="modal-message rtl">ŸÖÿ®ÿ±ŸàŸÉ ÿßÿ∞Ÿáÿ® ŸÑÿ±ŸÉŸÜ ŸÜÿßÿØŸä ÿßŸÑÿ£ÿπŸÖÿßŸÑ Ÿàÿßÿ±ŸäŸáŸÖ ÿßŸÑÿ±ÿ≥ÿßŸÑŸá Ÿáÿßÿ∞Ÿá ŸÑÿ™ÿ≥ÿ™ŸÑŸÖ ÿ¨ÿßÿ¶ÿ≤ÿ™ŸÉ</p>
      <div class="modal-actions">
        <button class="modal-button" id="close-modal">ÿ•ÿ∫ŸÑÿßŸÇ</button>
      </div>
    </div>
  </div>

  <script>
    // Game Configuration
    const TIME_LIMIT = 25; // 25 seconds
    
    // Game State
    let cards = [];
    let flippedCards = [];
    let matchedPairs = 0;
    let isChecking = false;
    let timer = 0;
    let timerInterval = null;
    let isGameComplete = false;

    // DOM Elements
    const cardGrid = document.getElementById('card-grid');
    const matchesDisplay = document.getElementById('matches');
    const timerDisplay = document.getElementById('timer');
    const resetBtn = document.getElementById('reset-btn');
    const victoryModal = document.getElementById('victory-modal');
    const closeModalBtn = document.getElementById('close-modal');

    // Card Icons (SVG strings)
    const icons = {
      heart: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`,
      star: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`,
      sun: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>`,
      moon: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>`,
      cloud: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-cloud"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>`,
      flower: `<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-flower"><path d="M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V9m-4.5 3a4.5 4.5 0 1 0 4.5 4.5M7.5 12H9m7.5 0a4.5 4.5 0 1 1-4.5 4.5m4.5-4.5H15m-3 4.5V15"/><circle cx="12" cy="12" r="3"/><path d="m8 16 1.5-1.5"/><path d="M14.5 9.5 16 8"/><path d="m8 8 1.5 1.5"/><path d="M14.5 14.5 16 16"/></svg>`
    };

    // Initialize Game
    function initGame() {
      createCards();
      renderCards();
      startTimer();
      resetGameState();
    }

    // Create Cards
    function createCards() {
      const iconTypes = ['heart', 'star', 'sun', 'moon', 'cloud', 'flower'];
      cards = [];
      
      // Create pairs of cards
      iconTypes.forEach((icon, index) => {
        cards.push({ id: index * 2, icon, isMatched: false });
        cards.push({ id: index * 2 + 1, icon, isMatched: false });
      });
      
      // Shuffle cards
      cards.sort(() => Math.random() - 0.5);
    }

    // Render Cards
    function renderCards() {
      cardGrid.innerHTML = '';
      
      cards.forEach((card, index) => {
        const cardElement = document.createElement('div');
        cardElement.className = 'card';
        cardElement.dataset.index = index;
        
        if (card.isMatched) {
          cardElement.classList.add('matched');
        }
        
        cardElement.innerHTML = `
          <div class="card-inner">
            <div class="card-front"></div>
            <div class="card-back">
              ${icons[card.icon]}
            </div>
          </div>
        `;
        
        cardElement.addEventListener('click', () => handleCardClick(index));
        cardGrid.appendChild(cardElement);
      });
    }

    // Handle Card Click
    function handleCardClick(index) {
      // Prevent clicking if already checking or card is already matched
      if (isChecking || cards[index].isMatched) return;
      
      // Prevent clicking if card is already flipped
      if (flippedCards.includes(index)) return;
      
      // Prevent clicking if two cards are already flipped
      if (flippedCards.length === 2) return;
      
      // Add clicked card to flipped cards
      flippedCards.push(index);
      
      // Flip the card visually
      const cardElement = document.querySelector(`.card[data-index="${index}"]`);
      cardElement.classList.add('flipped');
      
      // If we now have two cards flipped, check for a match
      if (flippedCards.length === 2) {
        isChecking = true;
        const [firstIndex, secondIndex] = flippedCards;
        const firstCard = cards[firstIndex];
        const secondCard = cards[secondIndex];
        
        if (firstCard.icon === secondCard.icon) {
          // Match found
          setTimeout(() => {
            // Mark cards as matched
            cards[firstIndex].isMatched = true;
            cards[secondIndex].isMatched = true;
            
            // Update matched cards visually
            document.querySelector(`.card[data-index="${firstIndex}"]`).classList.add('matched');
            document.querySelector(`.card[data-index="${secondIndex}"]`).classList.add('matched');
            
            // Reset flipped cards
            flippedCards = [];
            isChecking = false;
            
            // Increment matches
            matchedPairs++;
            matchesDisplay.textContent = matchedPairs;
            
            // Check for game completion
            if (matchedPairs === 6) {
              gameComplete();
            }
          }, 500);
        } else {
          // No match - reset after delay
          setTimeout(() => {
            // Flip cards back
            document.querySelector(`.card[data-index="${firstIndex}"]`).classList.remove('flipped');
            document.querySelector(`.card[data-index="${secondIndex}"]`).classList.remove('flipped');
            
            // Reset flipped cards
            flippedCards = [];
            isChecking = false;
          }, 1000);
        }
      }
    }

    // Start Timer
    function startTimer() {
      // Clear existing timer
      if (timerInterval) {
        clearInterval(timerInterval);
      }
      
      timer = 0;
      updateTimerDisplay();
      
      timerInterval = setInterval(() => {
        timer++;
        updateTimerDisplay();
      }, 1000);
    }

    // Update Timer Display
    function updateTimerDisplay() {
      const minutes = Math.floor(timer / 60);
      const seconds = timer % 60;
      timerDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    // Game Complete
    function gameComplete() {
      isGameComplete = true;
      
      // Stop timer
      if (timerInterval) {
        clearInterval(timerInterval);
      }
      
      // Show victory modal if completed under time limit
      if (timer < TIME_LIMIT) {
        showVictoryModal();
      }
    }

    // Show Victory Modal
    function showVictoryModal() {
      victoryModal.classList.add('active');
    }

    // Hide Victory Modal
    function hideVictoryModal() {
      victoryModal.classList.remove('active');
    }

    // Reset Game State
    function resetGameState() {
      flippedCards = [];
      matchedPairs = 0;
      isChecking = false;
      isGameComplete = false;
      matchesDisplay.textContent = '0';
    }

    // Reset Game
    function resetGame() {
      hideVictoryModal();
      createCards();
      renderCards();
      startTimer();
      resetGameState();
    }

    // Event Listeners
    resetBtn.addEventListener('click', resetGame);
    closeModalBtn.addEventListener('click', hideVictoryModal);

    // Initialize the game on load
    document.addEventListener('DOMContentLoaded', initGame);
  </script>
</body>
</html>